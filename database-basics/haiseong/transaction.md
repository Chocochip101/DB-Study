
## 트랜잭션

- 트랜잭션은 데이터를 다루는 작업의 논리적인 단위이다. (a single logical unit of work)
- 하나의 SQL 문으로 구성될 수도 있고 여러개의 SQL 문으로 구성될 수도 있다.
- 여러개의 SQL 문으로 구성된 경우 여러개중 하나의 SQL에서 문제가 발생한 경우 모든작업이 수행되지 않은상태로 돌아가야한다.
  - 모든 작업이 수행되거나 모든작업이 수행되지 않아야함
- START TRANSACTION : 트랜잭션의 시작
- COMMIT : 트랜잭션의 끝


### ACID
- 트랜잭션의 4가지 특징이다.
- Atomicity(원자성) : 트랜잭션에 포함된 작업은 전부 수행되거나 전부 수행되지 않아야 한다.
  - 만약 트랜잭션 중간에 작업이 잘못되거나 중단되면 회복 알고리즘을 통해 이전 상태로 복구되어야 한다. (ROLLBACK)
- Consistency(일관성) : 트랜잭션을 수행하기 전이나 수행한 후나 데이터베이스는 항상 일관된 상태를 유지해야한다.
  - CREATE 문과 ALTER 문에 명시되는 조건에 따라 일관성을 유지한다.
  - 수행중 일시적으로 일관성을 유지하지 못하는 상태가 있을 수 있다.
- Isolation(고립성) : 수행 중인 트랜잭션에 다른 트랜잭션이 끼어들어 변경중인 대아터 값을 훼손하는 일이 없어야 한다.
  - 동시성에 관한 특징이다.
- Durability(지속성) : 수행을 성공적으로 완료한 트랜잭션은 변경한 데이터를 영구히 저장해야한다.
  저장된 데이터베이스는 저장 직후 혹은 어느 때나 발생할 수 있는 정전, 장애, 오류에 영향을 받지 않아야 한다.
  - DBMS 복구 시스템은 트랜잭션이 작업한 내용을 수시로 로그로 기록하고 문제가 발생하면 로그 파일을 이용하여 복구 작업을 수행한다.
