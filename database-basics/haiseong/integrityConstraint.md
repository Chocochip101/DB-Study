
## 무결성 제약조건

### 도메인 무결성 제약조건
- 각 속성의 도메인에 지정된 값만 가져야 한다는 조건

### 개체 무결성 제약조건 (기본키 제약)
- 기본키는 NULL을 가질 수 없고 릴레이션 내에 오직 하나의 값만 존재해야한다.

#### 삽입 수행시
- 이미 존재하는 기본키의 투플이 삽입되었을 경우 : 기본키가 이미 존재하는지 확인후 있으면 거부한다.
- 기본키가 NULL인 투플이 삽입되었을 경우 : 기본키가 NULL이기 때문에 기존 투플을 검색할 필요도 없이 거부한다.

#### 수정 수행시
- 삽입과 동일하다.

#### 삭제 수행시
- 특별한 확인이 필요없어 즉시 삭제된다.
- 다른 릴레이션에서 외래키로 참조되는지 확인 후 참조하고 있으면 삭제하지 않는다.


### 참조 무결성 제약 조건 (외래키 제약)
- 부모 릴레이션(참조되는 릴레이션)과 자식 릴레이션(참조하는 릴레이션)의 도메인이 같아야한다.
- 자식 릴레이션의 값이 변경될때 부모 릴레이션의 제약을 받는다.

#### 삽입 수행시
- 도메인 무결성을 확인한 후 개체 무결성 제약조건에 위배되는 값이 없는지 확인한다. 그 후 외래키인 값이 부모 릴레이션에 존재하는지 확인한다. 없다면 거부한다.

#### 삭제 수행시
- 자식 릴레이션에서 : 별다른 제약없이 삭제된다.
- 부모 릴레이션에서 : 참조하고 있는 자식 릴레이션이 있는지 검사해야한다. 그후 네가지 조치방법을 고려한다.
  - 즉시 작업을 중지한다. (RESTRICTED)
  - 자식 릴레이션의 관련 투플을 삭제한다. (CASCADE)
  - 초기에 설정된 다른 어떤 값으로 변경한다. (DEFAULT)
  - NULL값으로 설정한다. (NULL)

#### 수정 수행시
- 삭제와 삽입 명령이 연속해서 수행되는것과 같다.

