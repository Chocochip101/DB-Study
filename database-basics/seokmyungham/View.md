# 뷰

뷰는 실제 테이블에 저장된 데이터를 기반으로 만들 수 있는 가상의 테이블이다.

데이터베이스 사용자는 뷰를 이용해서 복잡한 쿼리의 결과를 미리 정의된 테이블로 표시하고 필요한 조건에 따라 데이터를 제한하는 등의 기능을 수행할 수 있다.

실제 데이터를 저장하지 않고 쿼리 실행 시점에 실제 테이블의 데이터를 참조하여 결과를 생성한다.

## 뷰의 장점

### 데이터 보안 및 접근 제어

뷰를 사용해서 사용자가 직접 테이블에 접근하지 않고 뷰에만 접근할 수 있도록 제어할 수 있다. 
> 예를 들면 회원의 중요한 개인정보(연락처, 주소 등)를 제외한 뷰를 만들어서 뷰에만 접근이 가능하도록 권한을 제어한다면 테이블 사용자로부터 민감한 데이터를 보호할 수 있다.


### 복잡한 SQL 단순화

```sql
select B.mem_id, M.mem_name, B.prod_name, M.addr, CONCAT(M.phone1, M.phone2) '연락처'
from buy B inner join member M on B.mem_id = M.mem_id;
```

만약 위와 같은 쿼리를 자주 사용해야 한다면 사용자들은 매번 복잡한 쿼리를 입력해야 하고 매우 불편할 것이다.

위 쿼리문을 뷰로 생성해 놓고 사용자들은 해당 뷰에만 접근하도록 하면 복잡한 쿼리문을 입력할 필요가 없어진다.

```sql
create view v_memberbuy as select B.mem_id, M.mem_name, B.prod_name, M.addr, CONCAT(M.phone1, M.phone2) '연락처'
from buy B inner join member M on B.mem_id = M.mem_id;
```
```sql
select * from v_memberbuy
```

위와 같이 가상의 테이블을 만들어 제공함으로 사용자의 데이터 접근성을 향상시키고 데이터를 효율적으로 관리할 수 있다.


## 뷰의 특징

### 독립적인 인덱스 생성 불가능

뷰 자체는 독립적인 인덱스를 생성할 수 없다. 

그러므로 뷰가 복잡하거나 많은 테이블을 참조하게 될 경우 성능에 영향을 미칠 수 있다.

### 삽입, 삭제, 갱신 연산 제약

뷰는 기본 테이블의 데이터를 참조하기 때문에 뷰 자체에 대한 삽입, 삭제, 갱신 연산이 제약된다.

그래서 뷰에 대한 데이터 변경 작업은 기본 테이블에서 직접 수행해야 한다.