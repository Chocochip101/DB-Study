# 키

데이터베이스에서 `키`는 각 튜플을 식별하거나 정렬하는데 사용되는 고유한 식별자를 말한다.

키를 활용하여 중복된 데이터를 방지하고, 데이터 정합성을 유지할 수 있으며 인덱스를 통해 데이터를 빠르게 검색하고 특정 레코드에 빠르게 접근할 수 있다.

## 키의 종류

- 후보키 (Candidate Key)
- 기본키 (Primary Key)
- 대체키 (Alternate Key)
- 슈퍼키 (Super Key)
- 외래키 (Foreign key)

### 후보키

후보키는 릴레이션을 구성하는 `속성들 중에서 튜플을 유일하게 식별하기 위해 사용되는 속성들의 부분집합`이다. 

따라서 하나의 릴레이션에서 여러 개의 후보키가 존재할 수 있고, 조금 더 쉽게 말하면 기본키로 사용될 수 있는 속성들을 말한다.

후보키는 `유일성`과 `최소성`을 모두 만족시켜야 한다.

- 유일성 (Unique)
    - 하나의 키 값으로 하나의 튜플만을 유일하게 식별할 수 있어야 한다.
- 최소성 (Minimality)
    - 꼭 필요한 최소의 속성으로 구성되는 것을 말한다.


### 기본키

기본키는 후보키 중에서 특별히 선정된 Main Key를 말한다.

기본키는 한 릴레이션에서 특정 튜플을 유일하게 구별할 수 있어야 하므로 `중복된 값과 Null 값을 가질 수 없다.`

기본키를 사용해서 중복된 데이터가 하나의 테이블에 삽입되는 것을 방지할 수 있다.

> 중복된 데이터는 데이터의 일관성 측면에서 큰 문제를 야기한다.

또한 DBMS의 기본키 인덱스는 활용하여 데이터를 매우 빠르게 찾을 수 있도록 도와준다.

### 대체키

대체키는 후보키 중에서 기본키로 선택되지 않은 나머지 키를 말한다.

여러 개의 후보키가 있는 경우, 하나는 기본키가 되고 나머지는 대체키가 될 수 있다

### 슈퍼키

슈퍼키는 한 릴레이션 내에 있는 `속성들의 집합`으로 구성된 키를 말한다.

슈퍼키도 `유일성`을 만족해야 하므로 릴레이션을 구성하는 모든 튜플 중에 동일한 값은 나타나지 않는다.

### 외래키

외래키는 다른 릴레이션의 `기본키를 참조하는 속성` 또는 속성들의 집합이다.

외래키를 사용하면 관계형 데이터베이스에서 테이블 간의 관계를 설정하고 논리적 연결성을 유지할 수 있다. 일종의 다리 역할을 하는 것이다. 

예를 들면 주문과 사용자 정보의 테이블을 한꺼번에 저장한다고 생각해보자,  
주문을 추가할 때 마다 사용자 정보가 중복해서 저장될 것이다. 중복되는 데이터가 많다는 의미는 데이터를 찾는데 더 많은 시간이 들며 저장하기 위한 공간도 훨씬 많이 필요하다는 의미이다.

각 테이블의 관심사를 분리하고 외래키를 사용해서 중복 데이터를 제거할 수 있고 테이블을 효율적으로 관리할 수 있다.

외래키는 유일하지 않아도 되고 Null 이어도 되지만, 참조 릴레이션의 기본키에 없는 값은 사용할 수 없다.