# 무결성 제약 조건

`무결성`이란 데이터베이스에 저장된 데이터 값과 현실 세계의 실제 값이 일치하는 정확성을 의미한다.

`무결성 제약 조건`은 데이터베이스에 들어 있는 데이터의 정확성을 보장하고 데이터 베이스에 부정확한 자료가 저장되는 것을 방지하기 위한 제약 조건이다.

프로그래머가 아니라 시스템 수준에서 자동적으로 판단하여 데이터 추가, 변경시 실시간으로 무결성 제약 조건을 유지할 수 있도록 해야 한다. 일종의 관심사를 분리해서 프로그래머의 부담을 감소시키고 프로그래머는 코드 생산성에 집중하도록 하는 것이다. 또한 규칙을 정의하여 데이터베이스의 일관성을 유지하고 오류 발생 가능성을 최소화하도록 할 수 있다.

## 무결성 제약 조건의 종류

### 도메인 제약 조건

도메인 제약 조건은 데이터베이스 테이블의 속성 값은 원자성을 가지며, 해당 튜플 값은 도메인에서 정의된 값이어야만 한다는 조건이다.  
> 예를 들면 `나이` 속성의 튜플에는 숫자만 입력될 수 있도록 데이터 유형을 검증한다. 

속성에 허용되는 값 범위를 정의하거나 NULL 허용 여부를 정의해서 시스템 오류를 최소화할 수 있다.

- 데이터 유형 제약 조건: VARCHAR(255), INT, DATE
- 값 범위 제약 조건: CHECK, DEFAULT
- Null 허용 여부 제약 조건: NOT NULL, NULL

#

### 개체(엔티티) 무결성 제약 조건

개체 무결성 제약 조건은 기본 키로 정의한 속성은 null 값을 가질 수 없고, 유일하게 식별 가능한 값이어야 한다는 조건이다.

릴레이션을 생성할 때 해당 릴레이션의 기본 키가 어떤 속성인지 명시해서 개체 무결성 제약 조건을 만족할 수 있도록 해야 한다.

#

### 참조 무결성 제약 조건

참조 무결성 제약 조건은 관계 대응이 안되는 외래 키(FK)값을 가질 수 없다는 규칙이다. 자식 테이블의 외래 키는 부모 테이블의 기본 키를 참조하며, 외래 키 제약 조건을 통해 정의된다.

외래키는 유일하지 않아도 되고, Null이어도 된다. 하지만 실제로 부모 테이블에 존재하는 기본 키 값 으로 구성되어야 한다.

참조 무결성 제약 조건을 위한 외래 키 옵션은 다음과 같다

- `Cascade`
    - 부모 테이블의 기본 키 값이 변경되거나 삭제될 때, 관련된 모든 자식 테이블의 외래 키 값에 대해 변경이나 삭제를 반영한다.
- `Set Null`
    - 부모 테이블의 기본 키 값이 변경되거나 삭제될 때, 관련된 모든 자식 테이블의 외래 키 값을 Null로 설정한다. 
- `Set Default`
    - 부모 테이블의 기본 키 값이 변경되거나 삭제될 때, 관련된 모든 자식 테이블의 외래 키 값을 지정된 기본값으로 설정한다.
- `Restrict(No Action)`
    - 부모 테이블의 기본 키 값이 변경되거나 삭제될 때, 해당 변경이나 삭제를 차단한다. 즉 부모의 기본 키를 참조하는 자식 테이블이 존재한다면 부모 테이블의 변경이나 삭제를 허용하지 않는다.

## 

